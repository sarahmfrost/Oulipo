var lines2 = {
                        "node1": {
                                "data": "Would you like to read the tale of the three sprightly peas?",
                                "button1": {
                                                "node": "node4",
                                                "text": "if so, go to 4",
                                            },
                                 "button2": {
                                                "node": "node2",
                                                "text": "if not, go to 2",
                                            }
                            },
                        "node2": {
                                "data": "Would you prefer the tale of the three tall, lanky beanpoles?",
                                "button1": {
                                                "node": "node16",
                                                "text": "If so, go to 16",
                                            },
                                 "button2": {
                                                "node": "node3",
                                                "text": "If not, go to 3",
                                            }
                            },
                        "node3": {
                                "data": "Would you rather read the one about the three rather common or garden shrubs?",
                                "button1": {
                                                "node": "node17",
                                                "text": "If so, go to 17",
                                            },
                                 "button2": {
                                                "node": "node21",
                                                "text": "If not, go to 21",
                                            }
                            },
                        "node4": {
                                "data": "Once upon a time there were three wee peas dressed in green dozing cosily in their pod. They had chubby, moon-shaped faces and breathed through their funny little nozzles, snoring softly and euphoniously.",
                                "button1": {
                                                "node": "node9",
                                                "text": "If you\'d prefer another description, go to 9",
                                            },
                                 "button2": {
                                                "node": "node5",
                                                "text": "if this one will do you, proceed to 5",
                                            }
                            },
                        "node5": {
                                "data": "Their sleep was dreamless. The fact is that these creatures never dream.",
                                "button1": {
                                                "node": "node6",
                                                "text": "If you\'d rather they did dream, go to 6",
                                            },
                                 "button2": {
                                                "node": "node7",
                                                "text": "If not, go to 7",
                                            }
                            },
                        "node6": {
                                "data": "They were dreaming. The fact is these little creatures are always dreaming, and their nights are quite deliciously oneiric",
                                "button1": {
                                                "node": "node11",
                                                "text": "If you wish to know what they were dreaming, go to 11",
                                            },
                                 "button2": {
                                                "node": "node7",
                                                "text": "If it\'s neither here nor there to you, proceed to 7",
                                            }
                            },
                        "node7": {
                                "data": "Their cute little tootsies were muffled in cozy socks, and they wore black velvet mittens in bed.",
                                "button1": {
                                                "node": "node8",
                                                "text": "If you\'d prefer mittens of another colour, proceed to 8",
                                            },
                                 "button2": {
                                                "node": "node10",
                                                "text": "If you\'re happy with black, go to 10",
                                            }
                            },
                        "node8": {
                                "data": "They wore midnight blue velvet mittens in bed",
                                "button1": {
                                                "node": "node7",
                                                "text": "If you\'d prefer mittens of another colour, go back to 7",
                                            },
                                 "button2": {
                                                "node": "node10",
                                                "text": "If you have no objection to blue, proceed to 10",
                                            }
                            },
                        "node9": {
                            "data": "Once upon a time there were three wee peas who traveled the open road. In the evening, foot-sore and weary, they would drop off to sleep in no time at all.",
                                "button1": {
                                                "node": "node5",
                                                "text": "If you wish to know what happened next, go back to 5",
                                            },
                                 "button2": {
                                                "node": "node21",
                                                "text": "If not, proceed to 21",
                                            }
                            },
                        "node10": {
                                "data": "All three were dreaming the same dream; for they loved each other tenderly, and, old inseparables that they were, always dreamed alike.",
                                "button1": {
                                                "node": "node11",
                                                "text": "If you wish to know their dream, proceed to 11",
                                            },
                                 "button2": {
                                                "node": "node12",
                                                "text": "If not, go to 12",
                                            }
                            },
                        "node11": {
                                "name": "node11",
                                "data": "They were dreaming they had gone to fetch their soup from the soup kitchen and, upon opening their billy-cans, discovered it to be vetch soup. Sickened with horror, they awoke.",
                                "button1": {
                                                "node": "node11",
                                                "text": "If you wish to know why they awoke with horror, consult your Oxford English Dictionary under vetch and draw your own conclusions",
                                            },
                                 "button2": {
                                                "node": "node12",
                                                "text": "If it\'s all the same to you, proceed to 12",
                                            }
                            },
                        "node12": {
                                "data": "\'Eeky-peeky!\' they cried as they popped open their optics. \'Eeky-peeky! What a ghastly dream we\'ve just dreamed!\' \'A bad omen,\' the first pea said. \'Amen,\' said the second pea, \'I feel quite glum.\' \'Don\'t let it upset you so,\' said the third pea, who was the smartest of the three; \'the point is not to mope and fret but to understand, right? Just you listen while I analyze it all&hellip;\'",
                                "button1": {
                                                "node": "node15",
                                                "text": "If you can\'t wait to know his interpretation of the dream, go to 15",
                                            },
                                 "button2": {
                                                "node": "node13",
                                                "text": "If you\'d rather learn how the other two responded, proceed to 13",
                                            }
                            },
                        "node13": {
                                "data": "\'Come off it!\' piped the first pea. \'Since when were you able to analyze dreams?\' \'Yes, since when?\' piped the second pea.",
                                "button1": {
                                                "node": "node14",
                                                "text": "If you too wish to know since when, proceed to 14",
                                            },
                                 "button2": {
                                                "node": "node14",
                                                "text": "If not, proceed to 14 anyway, as you\'ll not be any the wiser",
                                            }
                            },
                        "node14": {
                                "data": "\'Since when?\' cried the third pea. \'How should I know? The fact is, I analyze them, OK? You’ll soon see!\'",
                                "button1": {
                                                "node": "node15",
                                                "text": "If you too wish to see, proceed to 15",
                                            },
                                 "button2": {
                                                "node": "node15",
                                                "text": "If not, proceed likewise to 15, as you won\'t see a thing.",
                                            }
                            },
                        "node15": {
                                "data": "\'OK, let\'s see!\' said his brothers. \'I don\'t care much for your irony,\' the other replied; \'you shan\'t see a thing. Besides, hasn\'t your feeling of horror dimmed and even faded quite away since this rather heated exchange began? So why bother to stir up the sink of your leguminous unconscious? Let\'s go and bathe in the fountain, rather, and greet this bright morning in that state of holy euphoria that is hygiene\'s own reward!\' No sooner said than done. Slipping out of their pod, they rolled downhill and scampered merrily off to the theatre of their ablutions.",
                                "button1": {
                                                "node": "node16",
                                                "text": "If you wish to know what happens at the theater of their ablutions, proceed to 16",
                                            },
                                 "button2": {
                                                "node": "node21",
                                                "text": "If not, go to 21",
                                            }
                            },
                        "node16": {
                                "data": "Three tall, lanky beanpoles were watching them",
                                "button1": {
                                                "node": "node21",
                                                "text": "If you don\'t much care for the three tall lanky beanpoles, go to 21",
                                            },
                                 "button2": {
                                                "node": "node18",
                                                "text": "If you like the look of them, proceed to 18",
                                            }
                            },
                        "node17": {
                                "data": "Three rather common or garden shrubs were watching them",
                                "button1": {
                                                "node": "node21",
                                                "text": "If you don\'t care for the three common or garden shrubs, go to 21",
                                            },
                                 "button2": {
                                                "node": "node18",
                                                "text": "If, contrariwise, they rather take your fancy, proceed to 18",
                                            }
                            },
                        "node18": {
                                "data": "Observing that they were being ogled, the three sprightly peas, who were very bashful, took to their heels.",
                                "button1": {
                                                "node": "node19",
                                                "text": "If you wish to know what they did next, proceed to 19",
                                            },
                                 "button2": {
                                                "node": "node21",
                                                "text": "If it\'s immaterial to you, go to 21",
                                            }
                            },
                        "node19": {
                                "data": "They skedaddled back to their pod, pulled down the lid over themselves, and fell fast asleep again.",
                                "button1": {
                                                "node": "node20",
                                                "text": "If you wish to know the sequel, proceed to 20",
                                            },
                                 "button2": {
                                                "node": "node21",
                                                "text": "If not, go to 21",
                                            }
                            },
                        "node20": {
                                "name": "node20",
                                "data": "There is no sequel. The tale is finished. Finished!",
                                "button1": {
                                                "node": " ",
                                                "text": " ",
                                            },
                                 "button2": {
                                                "node": " ",
                                                "text": " ",
                                            }
                            },
                        "node21": {
                                "name": "node21",
                                "data": "In this case too, the tale is finished. Ended!",
                                "button1": {
                                                "node": " ",
                                                "text": " ",
                                            },
                                 "button2": {
                                                "node": " ",
                                                "text": " ",
                                            }
                            },
                        };


function taleGen() {
    getChild("node1");
//    console.log("node1!");

}

var getChild = function(nextNode) {
    currentNode = lines2[nextNode];
    updateDiv(currentNode);
//    console.log(currentNode);

}


var updateDiv = function(currentNode){


    var button1HTML = '<button onclick="getChild(currentNode.button1.node)">' + currentNode.button1.text + '</button>';

    var button2HTML = '<button onclick="getChild(currentNode.button2.node)">' + currentNode.button2.text + '</button>';



    if(currentNode.name == "node21" || currentNode.name == "node20"){
        button1HTML = '';
        button2HTML = '';
    }

// 11th's button to OED definition of vetch
    if(currentNode.name =="node11") {
        button1HTML= '<button onclick=window.open("https://en.oxforddictionaries.com/definition/vetch")>' + currentNode.button1.text + '</button>';
    }

    document.getElementById('taleDisplay').innerHTML = currentNode.data + '<br><br>' + button1HTML + ' &nbsp;' + button2HTML;
}